---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Header />
<main>
  <section class="hero">
    <h1>Contact Us</h1>
    <p>Have a question? Reach out to Troop 10!</p>
  </section>
  <section>
    <div class="contact-form-card">
      <form id="contact-form">
        <div class="form-group">
          <label for="name">Name:</label>
          <input id="name" type="text" name="user_name" required />
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input id="email" type="email" name="user_email" required />
        </div>
        <div class="form-group">
          <label for="message">Message:</label>
          <textarea id="message" name="message" required></textarea>
        </div>
        <button type="submit" class="button">Send</button>
      </form>
      <p id="form-status" class="form-status"></p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script is:inline>
      document.addEventListener('DOMContentLoaded', function() {
        if (window.emailjs) {
          emailjs.init('jJuuekfjrbjVzGDqq'); // Your EmailJS public key
        }
        const form = document.getElementById('contact-form');
        const status = document.getElementById('form-status');
        if (form && window.emailjs) {
          form.addEventListener('submit', function(e) {
            e.preventDefault();
            emailjs.sendForm(
              'service_ixjkw2i', // Your EmailJS service ID
              'template_hucpy2s', // Your EmailJS template ID
              form
            ).then(
              () => {
                form.style.display = 'none';
                status.textContent = 'Message sent! Thank you.';
                status.style.display = 'block';
              },
              (error) => {
                status.textContent = 'Failed to send. Please try again later.';
                status.style.display = 'block';
              }
            );
          });
        }
      });
    </script>
  </section>
</main>
<Footer /> 